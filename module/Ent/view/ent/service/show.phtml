<?php $this->headTitle($this->translate('Détails d\'un service')); ?>
<h2><?= $this->translate('Détails d\'un service') ?></h2>

<p>
    <?= $this->translate('Nom :') ?> <?= $this->escapeHtml($service->getServiceName()) ?>
</p>

<p>
    <?= $this->translate('Libelle :') ?> <?= $this->escapeHtml($service->getServiceLibelle()) ?>
</p>

<p>
    <?= $this->translate('Description :') ?> <?= $this->escapeHtml($service->getServiceDescription()) ?>
</p>

<p>
    <?= $this->translate('Dernière mise à jour :') ?> 
    <?php
    if ($service->getServiceLastUpdate() != null) {
        echo $service->getServiceLastUpdate()->format('d-m-Y H:i:s');
    } else {
        echo $this->translate('Aucune mise à jour');
    }
    ?>
</p>

<p>
    <?= $this->translate('Attribut :') ?> 
    <?php
    foreach ($service->getFkSaAttribute() as $attribute) {
        if ($attribute->getAttributeName()) {
            echo $this->escapeHtml($attribute->getAttributeName());
        }
        ?>
        <?php
    }
    ?>
</p>

<?= $this->translate('Préférence :<br />') ?> 
<!--<dl class="dl-horizontal">-->
<?php
if ($preferenceAttribute) {
    foreach ($preferenceAttribute as $service) {
        ?>
        <table class="table">
            <caption><?= $service->{'serviceData'}->{'serviceName'} ?></caption>
            <tr class="warning">
                <th><?= $this->translate('Attribute') ?></th>
                <th><?= $this->translate('Value') ?></th>
                <th>&nbsp;</th>       
            </tr>    
            <?php
            foreach ($service->{'serviceAttributeData'} as $attribute) {
                echo '<tr><td class="success">' . $attribute->{'attributeName'} . '</td>';

                if (($attribute->{'attributeValueLibelle'})) {
                    echo '<td>' . $attribute->{'attributeValueLibelle'} . '</td>';
                } else {
                    echo '<td>' . $attribute->{'attributeValue'} . '</td>';
                }
                echo '
                <td>
                    <a href="' . $this->url('zfcadmin/service/show/updateProfile', ['id' => $service->{'serviceData'}->{'serviceId'}, 'ida' => $attribute->{'attributeId'}]) . '" class="btn btn-info btn-xs">
                        ' . $this->translate('Update Profil') . '
                    </a>
                </td></tr>';
            }
        }
        ?>
    </table>
    <?php
}
?> 
<!--</dl>-->

<a class="btn btn-danger" href="<?php echo $this->url('zfcadmin/service'); ?>"><?= $this->translate('Retour') ?></a>